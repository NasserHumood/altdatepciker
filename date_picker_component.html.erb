<%= turbo_frame_tag "date_picker" do %>

  <div class="w-72 p-2 rounded-lg shadow-md border border-gray-200">

    <div class="text-center lg:col-start-8 lg:col-end-13 lg:row-start-1 lg:mt-9 xl:col-start-9">
      <div class="flex items-center text-gray-900">
        
        <div class="mr-1 flex flex-auto">
          <%= button_to url_for(calendar_update_path),
          method: :post,
          params: { date: @previous_month_date },
          class: "-m-1.5 rounded-lg items-center justify-start p-1.5 text-gray-400 hover:text-gray-500 hover:bg-gray-100" do %>
            <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
              <path fill-rule="evenodd" d="M8.22 5.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L11.94 10 8.22 6.28a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd" />
            </svg>          
          <% end %>
          <div class="grow"></div>
        </div>

        <div class="flex-none px-2 py-1 rounded-lg text-sm font-semibold hover:bg-gray-100"><%= @date.year %> <%= Date::MONTHNAMES[@date.month] %></div>
        
        <div class="ml-1 flex flex-auto">
          <div class="grow"></div>
          <%= button_to url_for(calendar_update_path),
          method: :post,
          params: { date: @next_month_date },
          class: "-m-1.5 rounded-lg items-center justify-start p-1.5 text-gray-400 hover:text-gray-500 hover:bg-gray-100" do %>
            <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
              <path fill-rule="evenodd" d="M11.78 5.22a.75.75 0 0 1 0 1.06L8.06 10l3.72 3.72a.75.75 0 1 1-1.06 1.06l-4.25-4.25a.75.75 0 0 1 0-1.06l4.25-4.25a.75.75 0 0 1 1.06 0Z" clip-rule="evenodd" />
            </svg>
          <% end %>
        </div>

      </div>
      <div class="mt-2 grid grid-cols-7 text-xs/6 text-gray-500">
        <div>S</div>
        <div>M</div>
        <div>T</div>
        <div>W</div>
        <div>T</div>
        <div>F</div>
        <div>S</div>
      </div>
      <div class="isolate mt-2 grid grid-cols-7 gap-px rounded-lg bg-gray-200 text-sm ring-1 shadow-sm ring-gray-200 overflow-hidden">
        <% month_array.each do |day| %>
          <%= one_cell(day) %>
        <% end %>
      </div>
      <!-- أزرار التقويم -->
      <div class="mt-2">
        <%= render Sama::ButtonComponent.new(text: "إعادة ضبط", color: :neutral, size: :compact, width: :full) %>
      </div>
    </div>

  </div>

<% end %>
